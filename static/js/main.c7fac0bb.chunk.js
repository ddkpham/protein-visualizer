(this["webpackJsonpprotein-visualizer"]=this["webpackJsonpprotein-visualizer"]||[]).push([[0],{64:function(t,e,a){t.exports=a.p+"static/media/proteins.2080b9bf.csv"},82:function(t,e,a){t.exports=a(98)},87:function(t,e,a){},88:function(t,e,a){},92:function(t,e,a){},95:function(t,e,a){},96:function(t,e,a){},97:function(t,e,a){},98:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),l=a(8),c=a.n(l),o=(a(87),a(10)),i=a(137),u=a(140),s=a(139),d=a(129),f=a(138),p=(a(88),function(t){var e=t.options,a=t.updateSel;console.log("TCL: options",e);var l=Object(n.useRef)(null),c=Object(n.useState)(""),i=Object(o.a)(c,2),p=i[0],m=i[1],b=function(t){var e=[];return e.push(r.a.createElement(s.a,{value:" ",key:"default"},"None")),t.forEach((function(t,a){var n=t.value,l=t.label,c=r.a.createElement(s.a,{value:a,key:"key".concat(n)},l);e.push(c)})),e}(e);return r.a.createElement(d.a,{variant:"outlined",className:"drop-down"},r.a.createElement(u.a,{ref:l,id:"demo-simple-select-outlined-label"},"Protein Name"),r.a.createElement(f.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:p,onChange:function(t){var e=t.target.value;m(e),a(e)},autoWidth:!0},b))}),m=["#c76861","#e6c11e","#90de1b","#1bde97","#1bc7de","#1b66de","#421bde","#901bde","#d618d3","#d6186a"],b=a(32),g=a(131),h=a(132),y=a(133),v=a(134),E=a(50),x=a.n(E),k=a(130),O=(a(92),Object(k.a)({root:{Width:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:18,textDecoration:"underline"},pos:{marginBottom:12}}));function j(t){var e=t.glycoslation,a=t.disulfideBonds,l=t.toggleGlyco,c=t.toggleSulfide,i=Object(n.useState)(!0),u=Object(o.a)(i,2),s=u[0],d=u[1],f=Object(n.useState)(!0),p=Object(o.a)(f,2),m=p[0],b=p[1],E=O(),k=(r.a.createElement("span",{className:E.bullet},"\u2022"),function(t){"sulfide"===t?(console.log("toggling sulfide"),c(!m),b(!m)):(l(!s),d(!s))});return r.a.createElement(g.a,{variant:"outlined",classes:{root:"legend--wrapper"}},r.a.createElement(h.a,null,r.a.createElement(y.a,{className:E.title,color:"textSecondary",gutterBottom:!0},"Legend"),r.a.createElement("div",{className:"legend--menuItem"},r.a.createElement(y.a,null,"Total Glyco Bonds:",e.length),r.a.createElement("div",{className:"button-visibility".concat(s?"--on":"--off")},r.a.createElement(v.a,{"aria-label":"delete",className:{root:"on"},onClick:function(){return k("glyco")}},r.a.createElement(x.a,null)))),r.a.createElement("div",{className:"legend--menuItem"},r.a.createElement(y.a,null,"Total Sulfide Bonds:",a.length),r.a.createElement("div",{className:"button-visibility".concat(m?"--on":"--off")},r.a.createElement(v.a,{"aria-label":"delete",onClick:function(){return k("sulfide")}},r.a.createElement(x.a,null))))))}j.defaultProps={toggleGlyco:function(){},toggleSulfide:function(){}};var w=j,S=a(35),N=a.n(S),B=a(64),I=a.n(B);function C(){var t;return N.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.awrap(Object(b.a)(I.a));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}))}var L=function(t){var e=t.replace(/'/g,'"');return JSON.parse(e)},G=function(){var t;return N.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,N.a.awrap(C());case 3:return e.sent.forEach((function(e){var a={};a.value=e["Entry name"],a.label=e["Entry name"],a.description=e["Protein names"],a.disulfideBonds=L(e["Dislfide bond"]),a.glycoslation=L(e.Glycosylation),a.length=parseInt(e.Length,10),t.push(a)})),e.abrupt("return",t);case 6:case"end":return e.stop()}}))},z=(a(95),m);function P(t){var e=t.height,a=t.width,l=t.currSelection,c=t.isLegendOpen,i=t.initialOptions,u=Object(n.useRef)(null),s=Object(n.useState)(!0),d=Object(o.a)(s,2),f=d[0],p=d[1],m=Object(n.useState)(!0),g=Object(o.a)(m,2),h=g[0],y=g[1],v=i[l],E=v.disulfideBonds,x=v.glycoslation,k=function(t){var e=[];return t.forEach((function(a,n){for(var r=1,l=Object(o.a)(a,2),c=l[0],i=l[1],u=0;u<t.length;u+=1)if(n!==u){var s=Object(o.a)(t[u],2),d=s[0],f=s[1];c<d&&i>f&&(r+=1),c<d&&i>d&&i<f&&(r+=.5),c>d&&c<f&&i>f&&(r+=.5)}e.push(r)})),e}(i[l].disulfideBonds.map((function(t){var e=[];return t.split(" ").forEach((function(t){var a=parseInt(t,10);e.push(a)})),e}))),O={top:e/15,right:a/15,bottom:e/15,left:a/15},j=a-O.left-O.right,S=e-O.top-O.bottom,N=S/2+15,B=.5*O.left,I=Object(b.b)().domain([0,i[l].length]).range([B,j+B]),C=function(t){return N+40*k[t]},L=function(){var t=Object(b.c)("#svg");t.style("background-color","white");var e=t.append("g");e.attr("transform","translate(".concat(O.left,", ").concat(O.top,")")),function(t){t.append("rect").attr("width",j).attr("height",30).attr("x",B).attr("y",S/2).style("fill","white").style("stroke","black")}(e),h&&function(t){i[l].disulfideBonds.map((function(t){var e=[];return t.split(" ").forEach((function(t){var a=parseInt(t,10);e.push(a)})),e})).forEach((function(e,a){var n=Object(o.a)(e,2),r=n[0],l=n[1];e.forEach((function(e){t.append("circle").attr("cx",I(e)).attr("cy",N).attr("r",5).style("stroke","black").style("fill",z[a%z.length]),t.append("line").attr("x1",I(e)).attr("y1",N+20).attr("x2",I(e)).attr("y2",C(a)).style("stroke","black"),t.append("text").attr("dx",I(e)-5).attr("dy",C(a)+20).text((function(){return"S"})),t.append("text").attr("dx",I(e)+4).attr("dy",C(a)+20+5).text((function(){return"".concat(e)})).attr("class","sulfide-labels--pos")})),t.append("line").attr("x1",I(r)).attr("y1",C(a)).attr("x2",I(l)).attr("y2",C(a)).style("stroke","black")}))}(e),f&&function(t){i[l].glycoslation.map((function(t){return parseInt(t,10)})).forEach((function(e){t.append("text").attr("dx",I(e)-5).attr("dy",N+5).text((function(){return"N"})).attr("class","glyco-labels"),t.append("text").attr("dx",I(e)+3).attr("dy",N+7).text((function(){return"".concat(e)})).attr("class","glyco-labels--pos"),t.append("line").attr("x1",I(e)).attr("y1",N-10).attr("x2",I(e)).attr("y2",N-60).style("stroke","black"),t.append("circle").attr("cx",I(e)).attr("cy",N-60).attr("r",8).style("stroke","black").style("fill","black"),t.append("line").attr("x1",I(e)).attr("y1",N-60).attr("x2",I(e)).attr("y2",N-60-20).style("stroke","black"),t.append("line").attr("x1",I(e)).attr("y1",N-60-20).attr("x2",I(e)).attr("y2",N-60-35).style("stroke","black"),t.append("line").attr("x1",I(e)).attr("y1",N-60-35).attr("x2",I(e)).attr("y2",N-60-45).style("stroke","black"),t.append("circle").attr("cx",I(e)).attr("cy",N-60-20).attr("r",8).style("stroke","black").style("fill","grey"),t.append("rect").attr("width",14).attr("height",14).attr("x",I(e)-7).attr("y",N-60-50).style("fill","white").style("stroke","black")}))}(e),function(t){t.append("text").attr("dx",B-50).attr("dy",S/2+20).text((function(){return"NH2--"}))}(e)};Object(n.useEffect)((function(){["text","line","circle","rect"].forEach((function(t){Object(b.d)(t).remove()})),L()}),[u.current,h,f]);var G=Number.isInteger(l)?r.a.createElement("svg",{height:"".concat(e),width:"".concat(a),ref:u,id:"svg"},r.a.createElement("rect",null)):null;return r.a.createElement("div",null,c?r.a.createElement(w,{glycoslation:x,disulfideBonds:E,toggleGlyco:p,toggleSulfide:y}):null,G)}P.defaultProps={isLegendOpen:!1,height:500,width:500};var T=P,W=a(135),A=a(136),J=a(67),R=a(66),D=a.n(R),H=a(65),M=a.n(H),F=(a(96),Object(k.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1}}})));var $=function(t){var e=t.toggleLegend,a=F(),l=Object(n.useState)(null),c=Object(o.a)(l,2),i=c[0],u=c[1],d=Boolean(i),f=function(){u(null)};return r.a.createElement(W.a,null,r.a.createElement(A.a,null,r.a.createElement(v.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:e},r.a.createElement(M.a,null)),r.a.createElement(y.a,{variant:"h6",className:a.title},"Sun Lab"),r.a.createElement("div",null,r.a.createElement(v.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(t){u(t.currentTarget)},color:"inherit"},r.a.createElement(D.a,null)),r.a.createElement(J.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:f},r.a.createElement(s.a,{onClick:f},"Profile"),r.a.createElement(s.a,{onClick:f},"My account")))))},q=(a(97),G),K=window,Q=K.innerWidth,U=K.innerHeight;var V=function(){var t=Object(n.useState)(null),e=Object(o.a)(t,2),a=e[0],l=e[1],c=Object(n.useState)(!0),u=Object(o.a)(c,2),s=u[0],d=u[1],f=Object(n.useState)([]),m=Object(o.a)(f,2),b=m[0],g=m[1];return Object(n.useEffect)((function(){q().then((function(t){return g(t)}))}),[]),r.a.createElement(i.b,{injectFirst:!0},r.a.createElement("div",{className:"App"},r.a.createElement($,{toggleLegend:function(){d(!s)}}),r.a.createElement("div",{className:"App-dropdown"},b.length?r.a.createElement(p,{options:b,updateSel:function(t){l(null),setTimeout((function(){return l(t)}),500)}}):null),null!=a&&Number.isInteger(a)?r.a.createElement(T,{width:Q,height:U,currSelection:a,isLegendOpen:s,initialOptions:b}):r.a.createElement("div",{className:"App-canvas"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[82,1,2]]]);
//# sourceMappingURL=main.c7fac0bb.chunk.js.map