(this["webpackJsonpprotein-visualizer"]=this["webpackJsonpprotein-visualizer"]||[]).push([[0],{80:function(e,t,a){e.exports=a(95)},85:function(e,t,a){},86:function(e,t,a){},90:function(e,t,a){},92:function(e,t,a){},93:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(8),o=a.n(r),c=(a(85),a(11)),i=a(134),s=a(137),u=a(136),d=a(126),p=a(135),f=(a(86),function(e){var t=e.options,a=e.updateSel,r=Object(n.useRef)(null),o=Object(n.useState)(""),i=Object(c.a)(o,2),f=i[0],m=i[1],g=function(e){var t=[];return t.push(l.a.createElement(u.a,{value:" ",key:"default"},"None")),e.forEach((function(e,a){var n=e.value,r=e.label,o=l.a.createElement(u.a,{value:a,key:"key".concat(n)},r);t.push(o)})),t}(t);return l.a.createElement(d.a,{variant:"outlined",className:"drop-down"},l.a.createElement(s.a,{ref:r,id:"demo-simple-select-outlined-label"},"Protein Name"),l.a.createElement(p.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:f,onChange:function(e){var t=e.target.value;m(t),a(t)},autoWidth:!0},g))}),m=[{value:"HLAA_HUMAN",label:"HLAA_HUMAN",description:"HLA class I histocompatibility antigen, A alpha chain (Human leukocyte antigen A) (HLA-A)",disulfideBonds:["125 188","227 283"],glycoslation:["110"],length:365},{value:"ELNE_HUMAN",label:"ELNE_HUMAN",description:"Neutrophil elastase (EC 3.4.21.37) (Bone marrow serine protease) (Elastase-2) (Human leukocyte elastase) (HLE) (Medullasin) (PMN elastase)",disulfideBonds:["55 71","151 208","181 187","198 223"],glycoslation:["88","124","173"],length:267},{value:"GRAB_HUMAN",label:"GRAB_HUMAN",description:"Granzyme B (EC 3.4.21.79) (C11) (CTLA-1) (Cathepsin G-like 1) (CTSGL1) (Cytotoxic T-lymphocyte proteinase 2) (Lymphocyte protease) (Fragmentin-2) (Granzyme-2) (Human lymphocyte protein) (HLP) (SECT) (T-cell serine protease 1-3E)",disulfideBonds:["49 65","142 209","173 188"],glycoslation:["71","104"],length:247}],g=["#c76861","#e6c11e","#90de1b","#1bde97","#1bc7de","#1b66de","#421bde","#901bde","#d618d3","#d6186a"],b=a(43),h=a(128),y=a(129),E=a(130),v=a(131),k=a(49),x=a.n(k),O=a(127),N=(a(90),Object(O.a)({root:{Width:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:18,textDecoration:"underline"},pos:{marginBottom:12}}));function j(e){var t=e.glycoslation,a=e.disulfideBonds,r=e.toggleGlyco,o=e.toggleSulfide,i=Object(n.useState)(!0),s=Object(c.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)(!0),f=Object(c.a)(p,2),m=f[0],g=f[1],b=N(),k=(l.a.createElement("span",{className:b.bullet},"\u2022"),function(e){"sulfide"===e?(console.log("toggling sulfide"),o(!m),g(!m)):(r(!u),d(!u))});return l.a.createElement(h.a,{variant:"outlined",classes:{root:"legend--wrapper"}},l.a.createElement(y.a,null,l.a.createElement(E.a,{className:b.title,color:"textSecondary",gutterBottom:!0},"Legend"),l.a.createElement("div",{className:"legend--menuItem"},l.a.createElement(E.a,null,"Total Glyco Bonds:",t.length),l.a.createElement("div",{className:"button-visibility".concat(u?"--on":"--off")},l.a.createElement(v.a,{"aria-label":"delete",className:{root:"on"},onClick:function(){return k("glyco")}},l.a.createElement(x.a,null)))),l.a.createElement("div",{className:"legend--menuItem"},l.a.createElement(E.a,null,"Total Sulfide Bonds:",a.length),l.a.createElement("div",{className:"button-visibility".concat(m?"--on":"--off")},l.a.createElement(v.a,{"aria-label":"delete",onClick:function(){return k("sulfide")}},l.a.createElement(x.a,null))))))}j.defaultProps={toggleGlyco:function(){},toggleSulfide:function(){}};var w=j,S=(a(92),m),A=g;function B(e){var t=e.height,a=e.width,r=e.currSelection,o=e.isLegendOpen,i=Object(n.useRef)(null),s=Object(n.useState)(!0),u=Object(c.a)(s,2),d=u[0],p=u[1],f=Object(n.useState)(!0),m=Object(c.a)(f,2),g=m[0],h=m[1],y=S[r],E=y.disulfideBonds,v=y.glycoslation,k=function(e){var t=[];return e.forEach((function(a,n){for(var l=1,r=Object(c.a)(a,2),o=r[0],i=r[1],s=0;s<e.length;s+=1)if(n!==s){var u=Object(c.a)(e[s],2),d=u[0],p=u[1];o<d&&i>p&&(l+=1),o<d&&i>d&&i<p&&(l+=.5),o>d&&o<p&&i>p&&(l+=.5)}t.push(l)})),t}(S[r].disulfideBonds.map((function(e){var t=[];return e.split(" ").forEach((function(e){var a=parseInt(e,10);t.push(a)})),t}))),x={top:t/15,right:a/15,bottom:t/15,left:a/15},O=a-x.left-x.right,N=t-x.top-x.bottom,j=N/2+15,B=Object(b.a)().domain([0,S[r].length]).range([0,O]),L=function(e){return j+40*k[e]},H=function(){var e=Object(b.b)("#svg");e.style("background-color","white");var t=e.append("g");t.attr("transform","translate(".concat(x.left,", ").concat(x.top,")")),function(e){e.append("rect").attr("width",O-2*x.left).attr("height",30).attr("x",x.left).attr("y",N/2).style("fill","white").style("stroke","black")}(t),g&&function(e){S[r].disulfideBonds.map((function(e){var t=[];return e.split(" ").forEach((function(e){var a=parseInt(e,10);t.push(a)})),t})).forEach((function(t,a){var n=Object(c.a)(t,2),l=n[0],r=n[1];t.forEach((function(t){e.append("circle").attr("cx",B(t)).attr("cy",j).attr("r",5).style("stroke","black").style("fill",A[a%A.length]),e.append("line").attr("x1",B(t)).attr("y1",j+20).attr("x2",B(t)).attr("y2",L(a)).style("stroke","black"),e.append("text").attr("dx",B(t)-5).attr("dy",L(a)+20).text((function(){return"S"})),e.append("text").attr("dx",B(t)+4).attr("dy",L(a)+20+5).text((function(){return"".concat(t)})).attr("class","sulfide-labels--pos")})),e.append("line").attr("x1",B(l)).attr("y1",L(a)).attr("x2",B(r)).attr("y2",L(a)).style("stroke","black")}))}(t),d&&function(e){S[r].glycoslation.map((function(e){return parseInt(e,10)})).forEach((function(t){e.append("text").attr("dx",B(t)-5).attr("dy",j+5).text((function(){return"N"})).attr("class","glyco-labels"),e.append("text").attr("dx",B(t)+3).attr("dy",j+7).text((function(){return"".concat(t)})).attr("class","glyco-labels--pos"),e.append("line").attr("x1",B(t)).attr("y1",j-10).attr("x2",B(t)).attr("y2",j-60).style("stroke","black"),e.append("circle").attr("cx",B(t)).attr("cy",j-60).attr("r",8).style("stroke","black").style("fill","black"),e.append("line").attr("x1",B(t)).attr("y1",j-60).attr("x2",B(t)).attr("y2",j-60-20).style("stroke","black"),e.append("line").attr("x1",B(t)).attr("y1",j-60-20).attr("x2",B(t)).attr("y2",j-60-35).style("stroke","black"),e.append("line").attr("x1",B(t)).attr("y1",j-60-35).attr("x2",B(t)).attr("y2",j-60-45).style("stroke","black"),e.append("circle").attr("cx",B(t)).attr("cy",j-60-20).attr("r",8).style("stroke","black").style("fill","grey"),e.append("rect").attr("width",14).attr("height",14).attr("x",B(t)-7).attr("y",j-60-50).style("fill","white").style("stroke","black")}))}(t),function(e){e.append("text").attr("dx",x.left-50).attr("dy",N/2+20).text((function(){return"NH2--"}))}(t)};Object(n.useEffect)((function(){["text","line","circle","rect"].forEach((function(e){Object(b.c)(e).remove()})),H()}),[i.current,g,d]);var C=Number.isInteger(r)?l.a.createElement("svg",{height:"".concat(t),width:"".concat(a),ref:i,id:"svg"},l.a.createElement("rect",null)):null;return l.a.createElement("div",null,o?l.a.createElement(w,{glycoslation:v,disulfideBonds:E,toggleGlyco:p,toggleSulfide:h}):null,C)}B.defaultProps={isLegendOpen:!1,height:500,width:500};var L=B,H=a(132),C=a(133),G=a(65),I=a(64),M=a.n(I),T=a(63),z=a.n(T),P=(a(93),Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})));var U=function(e){var t=e.toggleLegend,a=P(),r=Object(n.useState)(null),o=Object(c.a)(r,2),i=o[0],s=o[1],d=Boolean(i),p=function(){s(null)};return l.a.createElement(H.a,null,l.a.createElement(C.a,null,l.a.createElement(v.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"menu",onClick:t},l.a.createElement(z.a,null)),l.a.createElement(E.a,{variant:"h6",className:a.title},"Sun Lab"),l.a.createElement("div",null,l.a.createElement(v.a,{"aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){s(e.currentTarget)},color:"inherit"},l.a.createElement(M.a,null)),l.a.createElement(G.a,{id:"menu-appbar",anchorEl:i,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:d,onClose:p},l.a.createElement(u.a,{onClick:p},"Profile"),l.a.createElement(u.a,{onClick:p},"My account")))))},_=(a(94),m),R=window,W=R.innerWidth,F=R.innerHeight;var J=function(){var e=Object(n.useState)(null),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!0),s=Object(c.a)(o,2),u=s[0],d=s[1];return l.a.createElement(i.b,{injectFirst:!0},l.a.createElement("div",{className:"App"},l.a.createElement(U,{toggleLegend:function(){d(!u)}}),l.a.createElement("div",{className:"App-dropdown"},l.a.createElement(f,{options:_,updateSel:function(e){r(null),setTimeout((function(){return r(e)}),500)}})),null!=a&&Number.isInteger(a)?l.a.createElement(L,{width:W,height:F,currSelection:a,isLegendOpen:u}):l.a.createElement("div",{className:"App-canvas"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[80,1,2]]]);
//# sourceMappingURL=main.43dd368c.chunk.js.map