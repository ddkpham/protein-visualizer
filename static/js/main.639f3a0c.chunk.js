(this["webpackJsonpprotein-visualizer"]=this["webpackJsonpprotein-visualizer"]||[]).push([[0],{64:function(t,e,a){t.exports=a(75)},69:function(t,e,a){},70:function(t,e,a){},74:function(t,e,a){},75:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),l=a(7),i=a.n(l),c=(a(69),a(14)),o=a(109),s=a(111),u=a(110),d=a(107),p=a(108),f=(a(70),function(t){var e=t.options,a=t.updateSel,l=Object(n.useRef)(null),i=Object(n.useState)(""),o=Object(c.a)(i,2),f=o[0],h=o[1],y=function(t){var e=[];return e.push(r.a.createElement(u.a,{value:" ",key:"default"},"None")),t.forEach((function(t,a){var n=t.value,l=t.label,i=r.a.createElement(u.a,{value:a,key:"key".concat(n)},l);e.push(i)})),e}(e);return r.a.createElement(d.a,{variant:"outlined",className:"drop-down"},r.a.createElement(s.a,{ref:l,id:"demo-simple-select-outlined-label"},"Protein Name"),r.a.createElement(p.a,{labelId:"demo-simple-select-outlined-label",id:"demo-simple-select-outlined",value:f,onChange:function(t){var e=t.target.value;h(e),a(e)},autoWidth:!0},y))}),h=[{value:"HLAA_HUMAN",label:"HLAA_HUMAN",description:"HLA class I histocompatibility antigen, A alpha chain (Human leukocyte antigen A) (HLA-A)",disulfideBonds:["125 188","227 283"],glycoslation:["110"],length:365},{value:"ELNE_HUMAN",label:"ELNE_HUMAN",description:"Neutrophil elastase (EC 3.4.21.37) (Bone marrow serine protease) (Elastase-2) (Human leukocyte elastase) (HLE) (Medullasin) (PMN elastase)",disulfideBonds:["55 71","151 208","181 187","198 223"],glycoslation:["88","124","173"],length:267},{value:"GRAB_HUMAN",label:"GRAB_HUMAN",description:"Granzyme B (EC 3.4.21.79) (C11) (CTLA-1) (Cathepsin G-like 1) (CTSGL1) (Cytotoxic T-lymphocyte proteinase 2) (Lymphocyte protease) (Fragmentin-2) (Granzyme-2) (Human lymphocyte protein) (HLP) (SECT) (T-cell serine protease 1-3E)",disulfideBonds:["49 65","142 209","173 188"],glycoslation:["71","104"],length:247}],y=["#c76861","#e6c11e","#90de1b","#1bde97","#1bc7de","#1b66de","#421bde","#901bde","#d618d3","#d6186a"],m=a(38),b=h,v=y;function g(t){var e=t.height,a=t.width,l=t.currSelection,i=Object(n.useRef)(null),o=Object(n.useState)(!1),s=Object(c.a)(o,2),u=s[0],d=s[1],p=function(t){var e=[];return t.forEach((function(a,n){for(var r=1,l=Object(c.a)(a,2),i=l[0],o=l[1],s=0;s<t.length;s+=1)if(n!==s){var u=Object(c.a)(t[s],2),d=u[0],p=u[1];i<d&&o>p&&(r+=1),i<d&&o>d&&o<p&&(r+=.5),i>d&&i<p&&o>p&&(r+=.5)}e.push(r)})),e}(b[l].disulfideBonds.map((function(t){var e=[];return t.split(" ").forEach((function(t){var a=parseInt(t,10);e.push(a)})),e}))),f={top:e/15,right:a/15,bottom:e/15,left:a/15},h=a-f.left-f.right,y=e-f.top-f.bottom,g=y/2+20,E=Object(m.a)().domain([0,b[l].length]).range([0,h]),k=function(t){return g+40*p[t]};Object(n.useEffect)((function(){var t=Object(m.b)("#svg");t.style("background-color","white");var e=t.append("g");e.attr("transform","translate(".concat(f.left,", ").concat(f.top,")")),function(t){t.append("rect").attr("width",h-2*f.left).attr("height",40).attr("x",f.left).attr("y",y/2).style("fill","white").style("stroke","black")}(e),function(t){var e=b[l].disulfideBonds.map((function(t){var e=[];return t.split(" ").forEach((function(t){var a=parseInt(t,10);e.push(a)})),e}));console.log("TCL: Visualization -> bonds",e),e.forEach((function(e,a){var n=Object(c.a)(e,2),r=n[0],l=n[1];e.forEach((function(e){t.append("circle").attr("cx",E(e)).attr("cy",g).attr("r",5).style("stroke","black").style("fill",v[a%v.length]),t.append("text").attr("dx",E(e)-15).attr("dy",g+20).text((function(){return e})),t.append("line").attr("x1",E(e)).attr("y1",g+20).attr("x2",E(e)).attr("y2",k(a)).style("stroke","black"),t.append("text").attr("dx",E(e)-5).attr("dy",k(a)+20).text((function(){return"S"}))})),t.append("line").attr("x1",E(r)).attr("y1",k(a)).attr("x2",E(l)).attr("y2",k(a)).style("stroke","black")}))}(e),function(t){b[l].glycoslation.map((function(t){return parseInt(t,10)})).forEach((function(e){t.append("text").attr("dx",E(e)-5).attr("dy",g+12).text((function(){return"N"})),t.append("line").attr("x1",E(e)).attr("y1",g-10).attr("x2",E(e)).attr("y2",g-60).style("stroke","black"),t.append("circle").attr("cx",E(e)).attr("cy",g-60).attr("r",8).style("stroke","black").style("fill","black"),t.append("line").attr("x1",E(e)).attr("y1",g-60).attr("x2",E(e)).attr("y2",g-60-20).style("stroke","black"),t.append("line").attr("x1",E(e)).attr("y1",g-60-20).attr("x2",E(e)).attr("y2",g-60-35).style("stroke","black"),t.append("line").attr("x1",E(e)).attr("y1",g-60-35).attr("x2",E(e)).attr("y2",g-60-45).style("stroke","black"),t.append("circle").attr("cx",E(e)).attr("cy",g-60-20).attr("r",8).style("stroke","black").style("fill","grey"),t.append("rect").attr("width",14).attr("height",14).attr("x",E(e)-7).attr("y",g-60-50).style("fill","white").style("stroke","black")}))}(e)}),[i.current]),Object(n.useEffect)((function(){u&&Object(m.c)("svg > *").remove()}),[l]),Object(n.useEffect)((function(){d(!0)}),[]);var x=Number.isInteger(l)?r.a.createElement("svg",{height:"".concat(e),width:"".concat(a),ref:i,id:"svg"},r.a.createElement("rect",null)):null;return r.a.createElement("div",null,x)}g.defaultProps={height:500,width:500};var E=g,k=(a(74),h),x=window,w=x.innerWidth,A=x.innerHeight;var N=function(){var t=Object(n.useState)(null),e=Object(c.a)(t,2),a=e[0],l=e[1];return r.a.createElement(o.b,{injectFirst:!0},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},"Disulfide bond and Glycoslyation Visualization"),r.a.createElement("div",{className:"App-dropdown"},r.a.createElement(f,{options:k,updateSel:function(t){l(null),setTimeout((function(){return l(t)}),500)}})),null!=a&&Number.isInteger(a)?r.a.createElement(E,{width:w,height:A,currSelection:a}):r.a.createElement("div",{className:"App-canvas"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[64,1,2]]]);
//# sourceMappingURL=main.639f3a0c.chunk.js.map